<feed xmlns="http://www.w3.org/2005/Atom">
  <generator uri="https://github.com/jtauber/ryland">Ryland</generator>
  <link href="https://jtauber.github.io/CARC/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="https://jtauber.github.io/CARC/" rel="alternate" type="text/html"/>
  <updated>2025-10-11T17:31:27.177509-04:00</updated>
  <id>https://jtauber.github.io/CARC/atom.xml</id>
  <title type="html">CARC</title>
  
    <subtitle>Corpus Analysis of Retro Code</subtitle>
  
  <author>
    <name>James Tauber</name>
  </author><entry>
    <title type="html">Why So Many Sectors Start with 00 11 0X 00</title>
    <link href="https://jtauber.github.io/CARC/2025/10/11/why-so-many-sectors-start-with-00-11-0x-00/" rel="alternate" type="text/html" title="Why So Many Sectors Start with 00 11 0X 00"/>
    <published>2025-10-11</published>
    <updated>2025-10-11T17:31:27.177509-04:00</updated>
    <id>https://jtauber.github.io/CARC/2025/10/11/why-so-many-sectors-start-with-00-11-0x-00/</id>
    <content type="html" xml:base="https://jtauber.github.io/CARC/2025/10/11/why-so-many-sectors-start-with-00-11-0x-00/">&lt;p&gt;As we saw in the previous post, ten out of the top 20 sector types start with &lt;code&gt;00 11 0X 00&lt;/code&gt; and continue with all zeros.
I suspected why this might be the case and I’ve now confirmed the reason.&lt;/p&gt;
&lt;p&gt;Note there are even &lt;em&gt;more&lt;/em&gt; sector types that &lt;em&gt;start&lt;/em&gt; with the sequence &lt;code&gt;00 11 0X 00&lt;/code&gt; if you don’t require the rest of the sector to be zeros.&lt;/p&gt;
&lt;p&gt;I immediately recognized the significance of &lt;code&gt;11&lt;/code&gt; (decimal 17) as the track number of the catalog (i.e. directory) on Apple DOS disks and suspected the byte that followed was a sector number (it&#39;s always of the form &lt;code&gt;0X&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Turns out almost all instances of this pattern were on other sectors on track &lt;code&gt;11&lt;/code&gt;. Sector &lt;code&gt;0F&lt;/code&gt; would have &lt;code&gt;00 11 0E 00&lt;/code&gt;, sector &lt;code&gt;0E&lt;/code&gt; would have &lt;code&gt;00 11 0D 00&lt;/code&gt; and so on. This is how the disk catalog is laid out in Apple DOS 3.3, with each catalog sector pointing to the next catalog sector (usually the sector before on track &lt;code&gt;11&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;The all-zeros cases are just when that catalog sector is not needed (because there aren’t enough files). This explains why lower sector numbers came up more in the previous post (because lower catalog sectors are more likely to be empty than higher ones).&lt;/p&gt;
&lt;p&gt;Just over half the disks in the Apple II Disk corpus seem to follow this standard DOS 3.3 catalog layout which will be crucial in working at the file rather than disk level in future explorations.&lt;/p&gt;</content>
    <author>
      <name>James Tauber</name>
    </author>
    <summary type="html">As we saw in the previous post, ten out of the top 20 sector types start with &lt;code&gt;00 11 0X 00&lt;/code&gt; and continue with all zeros.
I suspected why this might be the case and I’ve now confirmed the reason.</summary>
  </entry><entry>
    <title type="html">Sector Types in the Apple II Disk Corpus</title>
    <link href="https://jtauber.github.io/CARC/2025/10/11/sector-types-in-the-apple-ii-disk-corpus/" rel="alternate" type="text/html" title="Sector Types in the Apple II Disk Corpus"/>
    <published>2025-10-11</published>
    <updated>2025-10-11T15:55:51.261343-04:00</updated>
    <id>https://jtauber.github.io/CARC/2025/10/11/sector-types-in-the-apple-ii-disk-corpus/</id>
    <content type="html" xml:base="https://jtauber.github.io/CARC/2025/10/11/sector-types-in-the-apple-ii-disk-corpus/">&lt;p&gt;A regular Apple II floppy disk has 560 sectors of 256 bytes.
Across the 12,450 disks in the current corpus, that’s &lt;strong&gt;6,972,000&lt;/strong&gt; sectors.
How many unique sector &lt;strong&gt;types&lt;/strong&gt; are there and what are the most common?&lt;/p&gt;
&lt;p&gt;There are &lt;strong&gt;2,780,066&lt;/strong&gt; sector types and, unsurprisingly, by far the most common
is a sector of all zeros which occurs &lt;strong&gt;1,647,906&lt;/strong&gt; times across &lt;strong&gt;12,319&lt;/strong&gt; (&lt;strong&gt;98.95&lt;/strong&gt;%) disks.&lt;/p&gt;
&lt;p&gt;Below is a listing of the top 20 sector types and how many disks they appear on.
There is a lot more that could (and will) be done here, including clustering disks based on
a distance metric of how many sector types they have in common.
But for now there are a few things that stand out.&lt;/p&gt;
&lt;p&gt;It is interesting that the second and third most common sector types are on so few disks.
It will be worth investigating what those disks are. The all-&lt;code&gt;FF&lt;/code&gt; type is also on surprisingly few disks.&lt;/p&gt;
&lt;p&gt;It is also interesting that the next eight (as well as two more in the top 20) are of the form:&lt;br /&gt;
&lt;code&gt;00 11 XX 00 00 00 00 00...&lt;/code&gt;&lt;br /&gt;
I think I know the reason—more on that soon!&lt;/p&gt;
&lt;p&gt;Finally, I’ll point out that most of the remaining top-20 are potentially code and I’ll attempt to disassemble them
in a later post.&lt;/p&gt;
&lt;pre class=&#34;codehilite&#34;&gt;&lt;code&gt; sectors  disks  first 16 bytes
--------------------------------------------------------------------
 1647906  12319  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
   14665    110  FC 03 FC 03 FC 03 FC 03 FC 03 FC 03 FC 03 FC 03 ...
   12379    197  20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 ...
    6859   6794  00 11 02 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    6837   6792  00 11 01 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    6800   6734  00 11 03 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    6727   6655  00 11 04 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    6591   6523  00 11 05 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    6452   6383  00 11 06 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    6294   6200  00 11 07 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    6026   5957  00 11 08 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    5983   5880  A2 00 A0 02 88 B1 3E 4A 3E 00 BC 4A 3E 00 BC 99 ...
    5718   5608  A2 02 8E 52 AA CD B2 AA D0 19 CA 8E 52 AA CA 8E ...
    5675   5555  0A C8 C0 1E D0 F3 AE 9C B3 18 60 20 30 B2 90 DB ...
    5643    702  FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF FF ...
    5624   5558  00 11 09 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
    5227   5218  FF 00 00 FF FF 00 00 FF FF 00 00 FF FF 00 00 FF ...
    5221   5144  AD 00 02 CD B2 AA F0 03 4C A4 9F AD 01 02 C9 8D ...
    5171   5141  91 40 8A C8 91 40 AA CA 68 48 C8 91 40 C8 8A 91 ...
    4967   4901  00 11 0A 00 00 00 00 00 00 00 00 00 00 00 00 00 ...
&lt;/code&gt;&lt;/pre&gt;</content>
    <author>
      <name>James Tauber</name>
    </author>
    <summary type="html">A regular Apple II floppy disk has 560 sectors of 256 bytes.
Across the 12,450 disks in the current corpus, that’s &lt;strong&gt;6,972,000&lt;/strong&gt; sectors.
How many unique sector &lt;strong&gt;types&lt;/strong&gt; are there and what are the most common?</summary>
  </entry><entry>
    <title type="html">Byte Value Rank Differences For A Specific Disk</title>
    <link href="https://jtauber.github.io/CARC/2025/10/10/byte-value-rank-differences-for-a-specific-disk/" rel="alternate" type="text/html" title="Byte Value Rank Differences For A Specific Disk"/>
    <published>2025-10-10</published>
    <updated>2025-10-11T04:11:59.589427-04:00</updated>
    <id>https://jtauber.github.io/CARC/2025/10/10/byte-value-rank-differences-for-a-specific-disk/</id>
    <content type="html" xml:base="https://jtauber.github.io/CARC/2025/10/10/byte-value-rank-differences-for-a-specific-disk/">&lt;p&gt;Having ranked all the byte values across 12,450 Apple II disk images, how might a specific disk differ?&lt;/p&gt;
&lt;p&gt;As an initial experiment, I ranked the byte values on the Ultima IV boot disk and generated this heatmap
showing how much the rank on the Ultima IV boot disk differs from that across the entire corpus.&lt;/p&gt;
&lt;p&gt;Green indicates higher ranked than in the full corpus and red indicates lower ranked.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/CARC/figures/byte_rank_diff.svg&#34;&gt;&lt;/p&gt;
&lt;p&gt;This approach could be applied to any individual disk but also any subcorpora (say just DOS 3.3 disks or just text adventure games).&lt;/p&gt;</content>
    <author>
      <name>James Tauber</name>
    </author>
    <summary type="html">Having ranked all the byte values across 12,450 Apple II disk images, how might a specific disk differ?</summary>
  </entry><entry>
    <title type="html">Ranking Byte Values in the Apple II Disk Corpus</title>
    <link href="https://jtauber.github.io/CARC/2025/10/10/ranking-byte-values-in-the-apple-ii-disk-corpus/" rel="alternate" type="text/html" title="Ranking Byte Values in the Apple II Disk Corpus"/>
    <published>2025-10-10</published>
    <updated>2025-10-10T20:30:37.674052-04:00</updated>
    <id>https://jtauber.github.io/CARC/2025/10/10/ranking-byte-values-in-the-apple-ii-disk-corpus/</id>
    <content type="html" xml:base="https://jtauber.github.io/CARC/2025/10/10/ranking-byte-values-in-the-apple-ii-disk-corpus/">&lt;p&gt;Which are the most common byte values across the 12,450 Apple II disk images?&lt;/p&gt;
&lt;p&gt;Here is a heatmap showing the rank of each byte value. Note this is the &lt;strong&gt;rank&lt;/strong&gt;,
not the frequency.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/CARC/figures/byte_rank_heatmap.svg&#34;&gt;&lt;/p&gt;
&lt;p&gt;The top 16 byte values (most common to less common) are:&lt;br /&gt;
&lt;code&gt;00 20 A0 FF 80 01 7F D0 03 8D 02 AA 30 A9 3A 22&lt;/code&gt; ...&lt;/p&gt;
&lt;p&gt;The bottom 16 byte values (more common to least common) are:&lt;br /&gt;
... &lt;code&gt;93 5C 7D 9C 5E DC 92 DE 9A 7B 97 DA 7A 8B 5B 9B&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;It will be fascinating to see if this varies on other platforms and also by disk category (e.g. games vs others).&lt;/p&gt;</content>
    <author>
      <name>James Tauber</name>
    </author>
    <summary type="html">Which are the most common byte values across the 12,450 Apple II disk images?</summary>
  </entry><entry>
    <title type="html">Gathering Apple II Disk Images</title>
    <link href="https://jtauber.github.io/CARC/2025/10/09/gathering-apple-ii-disk-images/" rel="alternate" type="text/html" title="Gathering Apple II Disk Images"/>
    <published>2025-10-09</published>
    <updated>2025-10-10T23:08:37.343224-04:00</updated>
    <id>https://jtauber.github.io/CARC/2025/10/09/gathering-apple-ii-disk-images/</id>
    <content type="html" xml:base="https://jtauber.github.io/CARC/2025/10/09/gathering-apple-ii-disk-images/">&lt;p&gt;I want to get a lot of 6502 machine code, BASIC source, etc. so I’ve gathered a few
thousand Apple II disk images.&lt;/p&gt;
&lt;p&gt;I started there as it’s what I&#39;m most familiar with.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.apple.asimov.net/site_files.txt&#34;&gt;https://www.apple.asimov.net/site_files.txt&lt;/a&gt; lists &lt;strong&gt;39,663&lt;/strong&gt; files of which &lt;strong&gt;15,187&lt;/strong&gt; end in &lt;code&gt;.dsk&lt;/code&gt; (case-insensitive).
Based on category gleaned from the file path, I identified &lt;strong&gt;13,322&lt;/strong&gt; Apple II disk images to download.&lt;/p&gt;
&lt;p&gt;Of these, &lt;strong&gt;13,312&lt;/strong&gt; successfully downloaded and &lt;strong&gt;13,252&lt;/strong&gt; are the expected size: 143,360 bytes.
Of those &lt;strong&gt;13,252&lt;/strong&gt;, I eliminated a further &lt;strong&gt;802&lt;/strong&gt; as having a duplicate MD5 hash.&lt;/p&gt;
&lt;p&gt;Of the &lt;strong&gt;12,450&lt;/strong&gt; deduplicated disk images of the right size, &lt;strong&gt;7,092&lt;/strong&gt; (&lt;strong&gt;57.0&lt;/strong&gt;%) of them appear to be normal DOS 3.3 disks with a regular VTOC. That’s not to say I can’t do interesting things with the other disks, but it will be a lot more difficult.&lt;/p&gt;
&lt;p&gt;I won’t check-in all the disk images but the GitHub repo does contain the file lists and all the code I’ve written so far.&lt;/p&gt;</content>
    <author>
      <name>James Tauber</name>
    </author>
    <summary type="html">I want to get a lot of 6502 machine code, BASIC source, etc. so I’ve gathered a few
thousand Apple II disk images.</summary>
  </entry><entry>
    <title type="html">Kicking off the Project</title>
    <link href="https://jtauber.github.io/CARC/2025/10/09/kicking-off-the-project/" rel="alternate" type="text/html" title="Kicking off the Project"/>
    <published>2025-10-09</published>
    <updated>2025-10-10T23:06:45.456691-04:00</updated>
    <id>https://jtauber.github.io/CARC/2025/10/09/kicking-off-the-project/</id>
    <content type="html" xml:base="https://jtauber.github.io/CARC/2025/10/09/kicking-off-the-project/">&lt;p&gt;Okay, I’ve started &lt;a target=&#34;_blank&#34; href=&#34;https://github.com/jtauber/CARC&#34;&gt;a repo&lt;/a&gt; (and even came up with a Tolkien-inspired acronym)! If you’re interested, star / watch the repo. I’ll start some discussions there too.&lt;/p&gt;</content>
    <author>
      <name>James Tauber</name>
    </author>
    <summary type="html">Okay, I’ve started &lt;a target=&#34;_blank&#34; href=&#34;https://github.com/jtauber/CARC&#34;&gt;a repo&lt;/a&gt; (and even came up with a Tolkien-inspired acronym)! If you’re interested, star / watch the repo. I’ll start some discussions there too.</summary>
  </entry></feed>